## Первая строка - интерпретатор
!# /bin/bash

параметры 

```set -v``` - выводить все строки на экран
```set -x``` - выводить все комманды и их параметры

также\
```/bin/bash -v SCRIPT.sh```\
```/bin/bash -x SCRIPT.sh```

## Переменые присваивание
```bash
a = 2
read a
a = $(..COMMAND...)
a = '...COMMAND...'
```

_опции read_\
-p - задать текстовую строку для вывода\
-r - запретить обратный слеш для экранирования символов

вызвать переменную ```$VARIBLE```\
echo ```${var_name:-TEXT}``` если переменна существует - она напечатается, если нет- текст после ```:-```

[Расширение параметров оболочки](https://runebook.dev/ru/docs/bash/shell-parameter-expansion)

## Математические расчеты

```bash
let a=2+2
((a=2+2))
a = "4 + 4 = $((4+4))"
на необходимость расчетов указывают  двойные скобки или let
((a++)) увеличить на еденицу
((a--))
((a*=3)) умножить на 3
((a/=4))

% - остаток от деления
```

bash работает только с целыми числами, для дробных нужет бинарный калькулятор

## Шаблоны
```*``` - любое количество символов\
```?``` - один любой символ\
```\``` - экранировать "специальность" символа\
_Чтобы экранировать звездочку или знак вопроса используем любые ковычки_
_Правильные кавычки для символа доллор %_\
"asdf$VAR" - __в двойных__ кавычках происходит подстановка переменных\
'asfda$VAR_NO' - __в одинарных__ кавычках переменные не подставляются

## Коды возврата
Код возврата после каждой комманды оставется в переменной ```$?```

программы которые возвращают всегда определенные коды возврата
```bash
/bin/false или  false - всегда возвращает 1
/bin/true или true - всегда возвращает 0
```

## Условный оператор IF
```bash
if [[cmd1]] && [[cmd2]]; then  COMMAND2; - чтобы выполнилось cmd1 cmd2 должны вернуть 0 && - логическое И
elif [[cmd3]] || [[cmd3]]; then command4; - || - логическое ИЛИ (опционально)
else command5; (опционально) 
fi; - закрываем IF
```

[[ ОПЦИЯ КОММАНДА ]]
[[ ПЕРЕМЕННАЯ ОПЦИЯ ПЕРЕМЕННАЯ ]]

_опции при проверке файлов_\
-e - существует файл или дирректория\
-f - существет файл (!-f - не существует)\
-d - существует дирректория\
-s - существет файл и он не пустой\
-r - существует файл и доступен для чтения\
-w - существует файл и доступен для записи\
-x - существует файл и доступен для выполнения\
-h - символьная ссылка

_опции для строк_\
-z - пустая строка\
-n - не пустая строка\
== - равной\
!= - не равно

_опции с числами_\
-eq - равно\
-ne - не равно\
-lt - меньше\
-le - меньше равно\
-gt - больше\
-ge - больше равно

### Альтерантива if
Комманда1; Комманда2 - комманда 2 выпонится в любом случае\
Комманда1 && Комманда2 - комманда 2 выпонится если 1 выполнится без ошибок\
Комманда1 || Комманда2 - комманда 2 выпонится если 1 с ошибками

## Условный оператор CASE
синтаксис\
```bash
case "$VAR1" in ( condidion1) com1; com2
;;
condition2) com3
;;
test.png|*.jpg) com4  (ИЛИ)
;;
*) com5
esac
```




Bash - самая популярная оболочка командной строки для Linux

Простейший bash-скрипт - это последовательный набор команд для выполнения

Запустить bash-скрипт можно 2 способами:

с помощью вызова интерпретатора /bin/bash
напрямую через ./script.sh
Переменная - это именованный участок памяти, в котором содержатся какие-либо данные (текст, числа, и т.д)

Задавать значения переменных можно различными способами:

напрямую
через чтение ввода пользователя
как результат выполнения команды
Математические операции в Bash производятся в круглых скобках или с использованием оператора let.

Инкрементацию можно производить с помощью ((a++)), а декрементацию- с помощью ((a–))
Символ звездочка ( * ) в шаблонах обозначает любое количество символов, а символ знак вопроса ( ? ) – один любой символ
Экранировать специальные символы нужно для того, чтобы они интерпретировались как текст. Это делается с помощью знака обратного *слэша *

Код возврата - это код, который возвращает команда или функция после выполнения.

Каждая команда или скрипт завершается с определенным кодом возврата
Команда true имеет код возврата 0, а команда false – 1
Получить код возврата можно с помощью переменной $?
Условный оператор if используется для проверки логических выражений и выполнении определенных действий если эти выражения верны

В работе с условным оператором if можно использовать таблицу проверочных выражений для работы с файлами, текстом и числами
Можно использовать логические операторы && и || без условия if
Пример использования условного оператора if
if [[$port == ‘80’ || $port == ‘80’]]; then
echo "This is HTTP"
elif [[ $port == ‘22’ ]]; then
echo "This is SSH"
else if [[ $port == ‘53’ ]]; then
echo "And this is DNS"
else
echo "I dont know what is that"
fi;

Условный оператор case применяется для сравнения одной переменной с различными вариантами текстовых значений

Шаблоны * и ? можно применять в case
Условный оператор case, в отличии от if, не применяется для сравнения чисел
Пример использования условного оператора case
case “$port” in
(‘80’|‘8080’)
echo “This is HTTP”
;;
‘22’)
echо “This is SSH”
;;
‘53’)
echo “And this is DNS”
*)
echo “I dont know what is that”
;;
esac

Отладка - это этап разработки программы, на котором разработчик обнаруживает, локализует и устраняет ошибки

С помощью опции -x, -v в bash можно производить отладку своих скриптов
После изучения теоретического материала рекомендуем приступить к практике. Повторите самостоятельно то, что эксперт показывал во время лекции на скринкастах. Далее выполните задания в тренажёрах с автоматической проверкой, чтобы закрепить навык создания простейших bash-скриптов с ветвлением.

