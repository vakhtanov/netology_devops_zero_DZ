# Домашнее задание к занятию «Микросервисы: масштабирование»

Вы работаете в крупной компании, которая строит систему на основе микросервисной архитектуры.
Вам как DevOps-специалисту необходимо выдвинуть предложение по организации инфраструктуры для разработки и эксплуатации.

## Задача 1: Кластеризация

Предложите решение для обеспечения развёртывания, запуска и управления приложениями.
Решение может состоять из одного или нескольких программных продуктов и должно описывать способы и принципы их взаимодействия.

Решение должно соответствовать следующим требованиям:
- поддержка контейнеров;
- обеспечивать обнаружение сервисов и маршрутизацию запросов;
- обеспечивать возможность горизонтального масштабирования;
- обеспечивать возможность автоматического масштабирования;
- обеспечивать явное разделение ресурсов, доступных извне и внутри системы;
- обеспечивать возможность конфигурировать приложения с помощью переменных среды, в том числе с возможностью безопасного хранения чувствительных данных таких как пароли, ключи доступа, ключи шифрования и т. п.

Обоснуйте свой выбор.

Из того что мы проходили, всем требования удовлетворяет **Kubernetes**

- Поддерживает контейнеры различных системм.
- есть Kubernetes DNS. Сервису присваивается доменное имя. Маршрутизация происходит через kube-proxy и virtual ip. Есть Service Discovery для внутреннего взаимодейтсвия и Ingress Controller для внешних обращений
- достаточно просто настроить запуск определнного количества копий сервиса.
- Horizontal Pod Autoscaler (HPA) масштабирует количество копий в заисимсоти от нагрузки. 
- есть механизм Namespaces для разделения кластера на индивидуальные зоны. NetworkPolicy и GlobalNetworkPolicy дает разграничение доступа внутри кластера, контроль исходящего и входящего трафика.
- Для безопасного хранения чувствительных данных - Secrets. Для конфигурирования ConfigMaps

Взаимодействие: 
Kubernetes управляет развёртыванием и масштабированием контейнеризированных приложений. 
Service Discovery  обнаруживает сервисы. 
Ingress Controller управляет входящим трафиком. 
HPA автоматически масштабирует количество экземпляров приложений на основе наблюдаемых метрик. 
Secrets для хранения чувствительных данных.
ConfigMaps централизованно хранит конфигурационные данные


## Задача 2: Распределённый кеш * (необязательная)

Разработчикам вашей компании понадобился распределённый кеш для организации хранения временной информации по сессиям пользователей.
Вам необходимо построить Redis Cluster, состоящий из трёх шард с тремя репликами.

### Схема:

![11-04-01](https://user-images.githubusercontent.com/1122523/114282923-9b16f900-9a4f-11eb-80aa-61ed09725760.png)

---

### Как оформить ДЗ?

Выполненное домашнее задание пришлите ссылкой на .md-файл в вашем репозитории.

---
